<div class="cart-page">
  <form #f="ngForm">
    <div class="customer-info">
      <h3>基本資料</h3>

      <div class="form-row">
        <label>姓名</label>
        <input type="text" name="name" [(ngModel)]="customer.name" required #name="ngModel" placeholder=/>
      </div>
      <div class="error" *ngIf="name.invalid">請輸入姓名</div>

      <div class="form-row">
        <label>地址</label>
        <input type="text" name="address" [(ngModel)]="customer.address" required #address="ngModel" placeholder=/>
      </div>
      <div class="error" *ngIf="address.invalid">請輸入地址</div>

      <div class="form-row">
        <label>電話</label>
        <input type="text" name="phone" [(ngModel)]="customer.phone" required #phone="ngModel" placeholder=/>
      </div>
      <div class="error" *ngIf="phone.invalid">請輸入電話</div>
    </div>
  </form>
  <div class="cart-list">
    <h3>購買項目</h3>
    <div class="cart-empty" *ngIf="!carts || carts.length === 0">購物車內尚無商品</div>
    <table *ngIf="carts && carts.length > 0">
      <tr *ngFor="let item of carts; let i = index">
        <td>{{i+1}}</td>
        <td>{{item.name}}</td>
        <td><input type="number" [(ngModel)]="item.qty" min="1" placeholder=/></td>
        <td>${{item.specialPrice || item.price}}</td>
        <td>${{(item.specialPrice || item.price) * item.qty}}</td>
        <td><button (click)="remove(i)">刪除</button></td>
      </tr>
    </table>
  </div>
</div>
<div class="total-count">
  <button [disabled]="!canCheckout" (click)="checkout()">送出訂單 ({{ cartsTotal }})</button>
</div>
